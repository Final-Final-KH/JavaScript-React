{"ast":null,"code":"var _jsxFileName = \"/Users/WTK/final-dvel/src/styles/Layout.js\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport TopNavBar from \"../component/TopNavBar\";\nimport ChatModal from \"../pages/chat/ChatModal\";\nimport MobileTopNavBar from \"../component/MobileTopNavBar\";\nimport { useContext, useEffect } from \"react\";\nimport AuthApi from \"../api/AuthApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout, setAccessToken, setRefreshToken, setRole } from \"../context/redux/PersistentReducer\";\nimport Main from \"../pages/Main\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Background = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n_c = Background;\nconst Header = styled.div`\n  width: 100%;\n  height: 100px;\n  position: relative;\n  z-index: 1000;\n`;\n_c2 = Header;\nconst PC = styled.div`\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n`;\n_c3 = PC;\nconst Mobile = styled.div`\n  display: none;\n\n  @media (max-width: 768px) {\n    display: flex;\n  }\n`;\n_c4 = Mobile;\nconst Layout = () => {\n  _s();\n  const accessToken = useSelector(state => state.persistent.accessToken);\n  const refreshToken = useSelector(state => state.persistent.refreshToken);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const fetchUserStatus = async () => {\n      try {\n        console.log(\"유저정보 패치\");\n        const rsp = await AuthApi.IsLogin();\n        if (rsp) {\n          console.log(rsp);\n          dispatch(setRole(rsp.data));\n          return;\n        }\n        dispatch(logout());\n      } catch (error) {\n        console.log(error);\n        dispatch(logout());\n      }\n    };\n    fetchUserStatus();\n  }, [dispatch, accessToken, refreshToken]);\n  return /*#__PURE__*/_jsxDEV(Background, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(PC, {\n        children: /*#__PURE__*/_jsxDEV(TopNavBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Mobile, {\n        children: /*#__PURE__*/_jsxDEV(MobileTopNavBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ChatModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n_s(Layout, \"EtQ+rG6yQFVs3kGQf8dtVVF77GY=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n_c5 = Layout;\nexport default Layout;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Background\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"PC\");\n$RefreshReg$(_c4, \"Mobile\");\n$RefreshReg$(_c5, \"Layout\");","map":{"version":3,"names":["styled","TopNavBar","ChatModal","MobileTopNavBar","useContext","useEffect","AuthApi","useDispatch","useSelector","logout","setAccessToken","setRefreshToken","setRole","Main","jsxDEV","_jsxDEV","Background","div","_c","Header","_c2","PC","_c3","Mobile","_c4","Layout","_s","accessToken","state","persistent","refreshToken","dispatch","fetchUserStatus","console","log","rsp","IsLogin","data","error","children","fileName","_jsxFileName","lineNumber","columnNumber","_c5","$RefreshReg$"],"sources":["/Users/WTK/final-dvel/src/styles/Layout.js"],"sourcesContent":["import styled from \"styled-components\";\nimport TopNavBar from \"../component/TopNavBar\";\nimport ChatModal from \"../pages/chat/ChatModal\";\nimport MobileTopNavBar from \"../component/MobileTopNavBar\";\nimport {useContext, useEffect} from \"react\";\nimport AuthApi from \"../api/AuthApi\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {logout, setAccessToken, setRefreshToken, setRole} from \"../context/redux/PersistentReducer\";\nimport Main from \"../pages/Main\";\n\n\n\nconst Background = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\nconst Header = styled.div`\n  width: 100%;\n  height: 100px;\n  position: relative;\n  z-index: 1000;\n`;\n\nconst PC = styled.div`\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n`;\n\nconst Mobile = styled.div`\n  display: none;\n\n  @media (max-width: 768px) {\n    display: flex;\n  }\n`;\n\n\nconst Layout = () => {\n    const accessToken = useSelector((state) => state.persistent.accessToken);\n    const refreshToken = useSelector((state) => state.persistent.refreshToken);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        const fetchUserStatus = async () => {\n            try{\n                console.log(\"유저정보 패치\")\n                const rsp = await AuthApi.IsLogin();\n                if(rsp)\n                {\n                    console.log(rsp);\n                    dispatch(setRole(rsp.data))\n                    return\n                }\n                dispatch(logout())\n            } catch (error) {\n                console.log(error);\n                dispatch(logout())\n            }\n        }\n        fetchUserStatus();\n    }, [dispatch, accessToken, refreshToken]);\n\n\n\n    return (\n        <Background>\n            <Header>\n                <PC>\n                    <TopNavBar/>\n                </PC>\n                <Mobile>\n                    <MobileTopNavBar/>\n                </Mobile>\n            </Header>\n            <ChatModal />\n        </Background>\n    );\n};\n\nexport default Layout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}